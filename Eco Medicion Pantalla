
/*
 * BIBLIOTECAS
 */

#include <SPI.h>  // VIENE POR DEFAULT
/*
 * LAS 2 QUE SIGUEN
 * DESCARGUEN LOS 2 .ZIP DE LA SIGUEINTE CARPETA
 * https://etrrar-my.sharepoint.com/:f:/g/personal/mmansilla_etrr_edu_ar/Ej8Ql7-93QNIkEa7tDUm6W4BPBY13N2iVZMJAZT8hyXE9g?e=ICGK85
 * DESPUES EN EL IDE VAN A: PROGRAMA -> INCLUIR LIBRERIA -> AÃ‘ADIR BIBLIOTECA .ZIP
 * LO HACEN PARA LOS 2 ARCHIVOS
 */
#include <TFT_ILI9163C.h>
#include <Adafruit_GFX.h>

/*
 * DEFINICIONES
 */

#define __DC 9
#define __CS 10
//MOSI --> (SDA) --> D11
#define __RST 12
// SCLK --> (SCK) --> D13

/*
 * PANTALLA
 */

/*
 * COLORES
 */

#define BLACK   0x0000 
#define WHITE   0xFFFF

TFT_ILI9163C screen = TFT_ILI9163C(__CS, __DC, __RST);

/*
 * PROTOTIPOS FUNCIONES
 */

void limpiar_pantalla (void);
void actualizar_pantalla_C (float, float, int); //ESTO CAMBIENLO AL TIPO DE VARIABLES QUE MANEJAN

void setup() {
  /*
   * ESTO PONGANLO AL FINAL DE SU SETUP
   */
  screen.begin(); 
  limpiar_pantalla();
}

void loop() {
  /*
   * NO LE DEN BOLA AL FOR, LO USE SOLO APRA PROBAR, PASENLE A LA FUNCION LOS DATOS Y LLAMENLA CADA 1 SEG
   * 
   * NUNCA LLAMEN A LA FUNCION LIMPIAR PANTALLA EN EL LOOP, SOLO SE LLAMA EN EL SETUP, YA QUE LA FUNCION
   * ACTUALIZAR_PANTALLA YA LA LLAME AUTOMATICAMENTE
   */
  for (int i = 10; i < 11; i++)
  {
    for (int j = 10; j < 11; j++)
    {
      for (int l = 10; l < 15; l++)
      {
        actualizar_pantalla (i, j, l);
        delay(1000);
      }
    }
  }
}

/*
 * PONGAN ESTO AL FINAL
 */

void actualizar_pantalla (float tension, float corriente, int tiempo)
{
  limpiar_pantalla();
  screen.setTextColor(WHITE);
  screen.setCursor(20, 2);
  screen.setTextSize(2);
  screen.print("TENSION");
  screen.setCursor(20, 21);
  screen.print(tension);
  screen.setCursor(93, 21);
  screen.print("V");
  screen.setTextSize(1);
  screen.setCursor(6, 36);
  screen.print("--------------------");
  screen.setCursor(12, 46);
  screen.setTextSize(2);
  screen.print("CORRIENTE");
  screen.setCursor(20, 66);
  screen.print(corriente);
  screen.setCursor(93, 66);
  screen.print("A");
  screen.setTextSize(1);
  screen.setCursor(6, 81);
  screen.print("--------------------");
  screen.setCursor(27, 91);
  screen.setTextSize(2);
  screen.print("TIEMPO");
  screen.setCursor(35, 111);
  screen.print(tiempo);
  screen.setCursor(57, 111);
  screen.print(":");
  screen.setCursor(65, 111);
  screen.print(tiempo);
  screen.setTextSize(1); 
}

void limpiar_pantalla (void)
{
  screen.fillRect(10, 20, 80, 15, BLACK);
  screen.fillRect(10, 65, 80, 15, BLACK);
  screen.fillRect(5, 111, 128, 15, BLACK); 
}
